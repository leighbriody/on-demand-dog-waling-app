<!--Header-->
<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/"></ion-back-button>
    </ion-buttons>
    <ion-title>Walkies</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>

  <!--Here we will display the map-->
  <google-map #mapel height="50%" width="100%" [zoom]="zoom" [center]="center">
    <!--Owner marker-->
    <map-marker *ngFor="let marker of markersOwner" [position]="marker.position" [label]="marker.label"
      [title]="marker.title" [options]="marker.options">
    </map-marker>

    <!--Walker marker-->
    <map-marker *ngFor="let marker of markersWalker" [position]="marker.position" [label]="marker.label"
      [title]="marker.title" [options]="marker.options">
    </map-marker>

    <!--Live Walker markers-->
    <map-marker *ngFor="let marker of liveWalkMarkers" [position]="marker.position" [label]="marker.label"
      [title]="marker.title" [options]="marker.options">
    </map-marker>
    <map-polyline [options]="polylineOptions">
    </map-polyline>

  </google-map>

  <!--Stats on the walk - (ONLY SHOW IF WALK IN PROGRESSS)-->
  <ion-card *ngIf="!walkInProgress">
    <ion-grid>
    <ion-row>
      <ion-col>
        <ion-button class="live btn" >LIVE  </ion-button>
      </ion-col>
     
      </ion-row>
      <ion-row>
      <ion-col>
        <ion-button fill="outline">{{seconds}} seconds / 0  </ion-button>
      </ion-col>
      <ion-col>
        <ion-button fill="outline">{{length}} meters </ion-button>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-button class="end-walk-btn" (click)="endWalk()">END WALK</ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
  </ion-card>

  <!--If walk not in progress show this-->


  <ion-card *ngIf="walkInProgress == false">
    <ion-item>

      <ion-label>Make your way to the owner.</ion-label>

    </ion-item>
    <ion-card>
      <ion-item lines="none">
        <ion-avatar slot="start">
          <img src="../../../../assets/img/find-walks/user1.jpg">
        </ion-avatar>
        <ion-label>
          <h3>{{ownerName}}</h3>
          <h3>{{ownerEmail}}</h3>
          <h4>{{ownerCounty}}</h4>
          <p>
            <ion-icon name="star-outline"></ion-icon>
            <ion-icon name="star-outline"></ion-icon>
            <ion-icon name="star-outline"></ion-icon>
            <ion-icon name="star-outline"></ion-icon>
            <ion-icon name="star-outline"></ion-icon>
          </p>
          <ion-row>
            <ion-col>
              {{numberPets}}dogs <ion-icon name="paw"></ion-icon>
            </ion-col>
            <ion-col>
              â‚¬ {{price}}
            </ion-col>
            <ion-col>
              {{expectedDuration}} Mins
            </ion-col>
          </ion-row>
        </ion-label>
      </ion-item>
    </ion-card>
    <ion-list lines="none">
      <ion-item>
        <ion-button fill="outline" slot="end" class="view-me-btn">View me</ion-button>
        <ion-button slot="end" class="view-walker-btn">View walker</ion-button>
      </ion-item>
    </ion-list>
    <ion-card-content>
      Please make your way to the owner , you can text them via chat below.
      Once you have their furry friend and are ready to being the walk click
      start !.
    </ion-card-content>
    <ion-button class="start-walk-btn" (click)="startWalk()">START WALK</ion-button>
  </ion-card>

  <ion-card *ngIf="walkFinished == true">
    <h1 style="text-align: center;">Walk finished</h1>
    <ion-item>
      Walk distance : <span style="color:green">{{length}} meters</span>
    </ion-item>
    <ion-item>
      Walk duration: <span style="color:green">{{seconds}} seconss</span>
    </ion-item>
  </ion-card>

  <!--Chatbox-->






  <ion-button (click)="testDelete()">test delete</ion-button>
</ion-content>